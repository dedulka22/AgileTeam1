*** Settings ***
Library           Selenium2Library

*** Keywords ***
Prepare Browser
    [Arguments]    ${url}    ${browser}
    Open Browser    ${url}    ${browser}
    #Maximize Browser Window

Open Flights List Page
    Click Link    http://www.phptravels.net/flight
    Title Should Be    Flights List

Open My Account
    Go To    http://www.phptravels.net/account
    Title Should Be    My Account

Login
    Go To    http://www.phptravels.net/login
    Input Text    ${enterEmail}    ${demoLogin}
    Input Password    ${enterPassword}    ${demoPassword}
    Wait Until Element Is Visible    ${loginButton}
    Double Click Element    ${loginButton}
    Sleep    2
    Click Element    ${home}

Fill Search For Flight FlightsPage
    [Arguments]    ${flightOrigin}    ${flightDestination}
    Click Element    ${originFlightField}
    Input Text    ${activeSetFlightField}    ${flightOrigin}
    Wait Until Element Is Visible    ${firstResultFlightField}
    Click Element    ${firstResultFlightField}
    Click Element    $(destinationFlightField)
    Input Text    ${activeSetFlightField}    ${flightDestination}
    Wait Until Element Is Visible    ${firstResultFlightField}
    Click Element    ${firstResultFlightField}

StartTourSearch
    Click Element    ${tourButton}
    Click Element    ${detailsButton}

BookTour
    Click Element    ${adultsInput}
    Click Element    ${bookNow}

FinishTourBooking
    Click Element    ${confirmButton}
    Wait Until Page Contains Element    ${reservedBanner}
    Click Element    ${payButton}
    Alert Should Be Present    ${alertText}
    Wait Until Page Contains Element    ${reservedBanner}
    Wait Until Page Contains Element    ${message}
    Wait Until Element Contains    ${message}    ${messageText}
